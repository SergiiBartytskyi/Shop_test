{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,uCAMA,MAAMC,EAAOC,SAASC,cAAc,Y,IACnBC,EAAjB,MAAMC,EAAgE,QAArDD,EAAAE,KAAKC,MAAMC,aAAaC,QAAQV,EAAAW,OAAOC,sBAAc,IAArDP,IAAyD,G,IAC3DQ,EAAf,MAAMC,EAA4D,QAAnDD,EAAAN,KAAKC,MAAMC,aAAaC,QAAQV,EAAAW,OAAOI,oBAAY,IAAnDF,IAAuD,IAEtE,EAAAG,EAAAC,sBAAqBX,EAAUJ,GAC/BA,EAAKgB,iBAAiB,SAEtB,SAAiBC,GAGf,GAFAA,EAAEC,iBAEED,EAAEE,OAAOC,UAAUC,SAAS,WAAY,CAC1C,MAAMC,GAAU,EAAAC,EAAAC,aAAYP,EAAEE,SAC9B,EAAAM,EAAAC,aAAYJ,E,CAGd,GAAIL,EAAEE,OAAOC,UAAUC,SAAS,eAAgB,CAC9C,MAAMC,GAAU,EAAAC,EAAAC,aAAYP,EAAEE,QAGxBQ,EADUtB,KAAKC,MAAMC,aAAaC,QAAQV,EAAAW,OAAOC,eACzBkB,QAAO,EAACC,GAAEA,KAASA,IAAOP,EAAQO,KAChEtB,aAAauB,QAAQhC,EAAAW,OAAOC,aAAcL,KAAK0B,UAAUJ,KACzD,EAAAb,EAAAC,sBAAqBY,EAAe3B,E,CAGtC,GAAIiB,EAAEE,OAAOC,UAAUC,SAAS,aAAc,CAC5C,MAAMC,GAAU,EAAAC,EAAAC,aAAYP,EAAEE,QC/BRa,EDiCFV,GCjCHW,EDiCLrB,GChCQsB,MAAK,EAACL,GAAEA,KAASA,IAAOG,EAAGH,MAIjDI,EAAIE,KAAKH,GD6BPzB,aAAauB,QAAQhC,EAAAW,OAAOI,WAAYR,KAAK0B,UAAUnB,G,CClC3D,IAAqBqB,EAAKD,C","sources":["src/js/favorite.js","src/helpers/isInStorage.js"],"sourcesContent":["import { common } from '../helpers/common';\nimport { createMarkupFavorite } from '../helpers/createMarkup';\nimport { createModal } from '../helpers/createModal';\nimport { findProduct } from '../helpers/findProduct';\nimport { isInStorage } from '../helpers/isInStorage';\n\nconst list = document.querySelector('.js-list');\nconst favorite = JSON.parse(localStorage.getItem(common.KEY_FAVORITE)) ?? [];\nconst basket = JSON.parse(localStorage.getItem(common.KEY_BASKET)) ?? [];\n\ncreateMarkupFavorite(favorite, list);\nlist.addEventListener('click', onClick);\n\nfunction onClick(e) {\n  e.preventDefault();\n\n  if (e.target.classList.contains('js-info')) {\n    const product = findProduct(e.target);\n    createModal(product);\n  }\n\n  if (e.target.classList.contains('js-favorite')) {\n    const product = findProduct(e.target);\n\n    const storage = JSON.parse(localStorage.getItem(common.KEY_FAVORITE));\n    const updateStorage = storage.filter(({ id }) => id !== product.id);\n    localStorage.setItem(common.KEY_FAVORITE, JSON.stringify(updateStorage));\n    createMarkupFavorite(updateStorage, list);\n  }\n\n  if (e.target.classList.contains('js-basket')) {\n    const product = findProduct(e.target);\n\n    isInStorage(basket, product);\n    localStorage.setItem(common.KEY_BASKET, JSON.stringify(basket));\n  }\n}\n","function isInStorage(arr, el) {\n  const inStorage = arr.some(({ id }) => id === el.id);\n  if (inStorage) {\n    return;\n  }\n  arr.push(el);\n}\n\nexport { isInStorage };\n"],"names":["$hU4M9","parcelRequire","$f2b37c882cc80f12$var$list","document","querySelector","$f2b37c882cc80f12$var$ref","$f2b37c882cc80f12$var$favorite","JSON","parse","localStorage","getItem","common","KEY_FAVORITE","$f2b37c882cc80f12$var$ref1","$f2b37c882cc80f12$var$basket","KEY_BASKET","$dEdDu","createMarkupFavorite","addEventListener","e","preventDefault","target","classList","contains","product","$8C1lk","findProduct","$l5ICX","createModal","updateStorage","filter","id","setItem","stringify","el","arr","some","push"],"version":3,"file":"favorite.8fe86c62.js.map"}